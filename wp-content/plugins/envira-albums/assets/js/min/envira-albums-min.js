!function(e){function i(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var t={};i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(o,a,function(i){return e[i]}.bind(null,a));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},i.p="",i(i.s=1)}([function(e,i){e.exports=jQuery},function(e,i,t){"use strict";(function(e){var i=function(e){return e&&e.__esModule?e:{default:e}}(t(2)),o=window.envira_albums||{};!function(e,i,t,o,a,n){e(function(){i.envira_albums=n,e(t).on("envira_load",function(i){i.stopPropagation(),n={},e(".envira-album-public").each(function(){var i=e(this),t=i.data("album-config"),a=i.data("album-galleries"),l=i.data("lightbox-theme");void 0===n[t.album_id]&&(n[t.album_id]=new o(t,a,l))})}),e(t).trigger("envira_load"),e(t).on("envira_image_lazy_load_complete",function(t){if(void 0!==t&&void 0!==t.image_id&&null!==t.image_id){var o=e("#envira-gallery-item-"+t.gallery_id).find("img#"+t.image_id);if(e("#envira-gallery-item-"+t.gallery_id).find("div.envira-album-public").hasClass("envira-gallery-0-columns"))e(o).closest("div.envira-gallery-item-inner").find("div.envira-gallery-position-overlay").delay(100).show();else{e(o).closest("div.envira-gallery-item-inner").find("div.envira-gallery-position-overlay").delay(100).show();var a=e(o).closest("div.envira-gallery-item-inner").find(".envira-lazy").width(),n=t.naturalHeight/t.naturalWidth,l=t.naturalHeight/a;if(l<n)var r=l;else r=n;var c=100*r;o.closest("div.envira-album-public").parent().hasClass("envira-gallery-theme-sleek")&&(c+=2);var g=e(o).closest("div.envira-gallery-item-inner").find("div.envira-lazy"),s=g.closest("div.envira-gallery-item-inner").find(".envira-album-title").height();e(o).closest("div.envira-gallery-item").hasClass("enviratope-item")?(g.css("padding-bottom",c+"%").attr("data-envira-changed","true"),e(o).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-right").css("bottom",s),e(o).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-left").css("bottom",s)):(g.css("height","auto").css("padding-bottom","10px").attr("data-envira-changed","true"),e(o).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-right").css("bottom",s+10),e(o).closest("div.envira-gallery-item-inner").find(".envira-gallery-position-overlay.envira-gallery-bottom-left").css("bottom",s+10)),e(o).closest("div.envira-gallery-item-inner").find("span.envira-title").delay(1e3).css("visibility","visible"),e(o).closest("div.envira-gallery-item-inner").find("span.envira-caption").delay(1e3).css("visibility","visible"),void 0!==i["envira_container_"+t.gallery_id]&&e("#envira-gallery-"+t.gallery_id).hasClass("enviratope")&&i["envira_container_"+t.gallery_id].on("layoutComplete",function(i,t){e(o).closest("div.envira-gallery-item-inner").find("span.envira-title").delay(1e3).css("visibility","visible"),e(o).closest("div.envira-gallery-item-inner").find("span.envira-caption").delay(1e3).css("visibility","visible")})}}})})}(e,window,document,i.default,envira_gallery,o)}).call(this,t(0))},function(e,i,t){"use strict";(function(i){var t=function(){function e(e,i){for(var t=0;t<i.length;t++){var o=i[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(i,t,o){return t&&e(i.prototype,t),o&&e(i,o),i}}(),o=window.enviraLazy,a=function(){function e(i,t,o){!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e);var a=this;a.data=i,a.galleries=t,a.id=this.get_config("album_id"),a.envirabox_config=o,a.log(a.data),a.log(a.galleries),a.log(a.envirabox_config),a.log(a.id),a.init()}return t(e,[{key:"init",value:function(){var e=this;0==e.get_config("columns")&&(e.justified(),e.get_config("lazy_loading")&&(i(document).on("envira_pagination_ajax_load_completed",function(){i("#envira-gallery-"+e.id).on("jg.complete",function(i){i.preventDefault(),e.load_images()})}),e.load_images()),e.get_config("justified_gallery_theme"),i(document).trigger("envira_gallery_api_justified",e.data)),e.get_config("lazy_loading")&&(e.load_images(),i(window).scroll(function(i){e.load_images()})),parseInt(e.get_config("columns"))>0&&e.get_config("isotope")?(e.enviratopes(),e.get_config("lazy_loading")&&i("#envira-gallery-"+e.id).one("layoutComplete",function(i,t){e.load_images()})):parseInt(e.get_config("columns"))>0&&e.load_images(),(e.get_config("lightbox_enabled")||e.get_config("lightbox"))&&e.lightbox(),i(document).trigger("envira_gallery_api_init",e)}},{key:"load_images",value:function(){var e=this;e.log("running: #envira-gallery-"+e.id),o.run("#envira-gallery-"+e.id),i("#envira-gallery-"+e.id).hasClass("enviratope")&&i("#envira-gallery-"+e.id).enviraImagesLoaded().done(function(){i("#envira-gallery-"+e.id).enviratope("layout")}).progress(function(){i("#envira-gallery-"+e.id).enviratope("layout")})}},{key:"justified",value:function(){i("#envira-gallery-"+this.id).enviraJustifiedGallery({rowHeight:this.is_mobile()?this.get_config("mobile_justified_row_height"):this.get_config("justified_row_height"),maxRowHeight:-1,waitThumbnailsLoad:!0,selector:"> div > div",lastRow:this.get_config("justified_last_row"),border:0,margins:this.get_config("justified_margins")}),i(document).trigger("envira_gallery_api_start_justified",this.data),i("#envira-gallery-"+this.id).css("opacity","1")}},{key:"justified_norewind",value:function(){i("#envira-gallery-"+self.id).enviraJustifiedGallery("norewind")}},{key:"enviratopes",value:function(){var e=this,t={itemSelector:".envira-gallery-item",masonry:{columnWidth:".envira-gallery-item"}};i(document).trigger("envira_gallery_api_enviratope_config",t),i("#envira-gallery-"+e.id).enviratope(t),i("#envira-gallery-"+e.id).enviraImagesLoaded().done(function(){i("#envira-gallery-"+e.id).enviratope("layout")}).progress(function(){i("#envira-gallery-"+e.id).enviratope("layout")}),i(document).trigger("envira_gallery_api_enviratope",e)}},{key:"lightbox",value:function(){var e=this,t=!!e.get_config("thumbnails")&&{autoStart:!0,hideOnClose:!0,position:e.get_lightbox_config("thumbs_position")},o=!!e.get_config("slideshow")&&{autoStart:e.get_config("autoplay"),speed:e.get_config("ss_speed")},a=!e.get_config("fullscreen")||!e.get_config("open_fullscreen")||{autoStart:!0},n="zomm-in-out"==e.get_config("lightbox_open_close_effect")?"zoom-in-out":e.get_config("lightbox_open_close_effect"),l="zomm-in-out"==e.get_config("effect")?"zoom":e.get_config("effect");e.lightbox_options={selector:'[data-envirabox="'+e.id+'"]',loop:e.get_config("loop"),margin:e.get_lightbox_config("margins"),gutter:e.get_lightbox_config("gutter"),keyboard:e.get_config("keyboard"),arrows:e.get_lightbox_config("arrows"),arrow_position:e.get_lightbox_config("arrow_position"),infobar:e.get_lightbox_config("infobar"),toolbar:e.get_lightbox_config("toolbar"),idleTime:!!e.get_lightbox_config("idle_time")&&e.get_lightbox_config("idle_time"),smallBtn:e.get_lightbox_config("show_smallbtn"),protect:!1,image:{preload:!1},animationEffect:n,animationDuration:300,btnTpl:{smallBtn:e.get_lightbox_config("small_btn_template")},zoomOpacity:"auto",transitionEffect:l,transitionDuration:200,baseTpl:e.get_lightbox_config("base_template"),spinnerTpl:'<div class="envirabox-loading"></div>',errorTpl:e.get_lightbox_config("error_template"),fullScreen:!!e.get_config("fullscreen")&&a,touch:{vertical:!0,momentum:!0},hash:!1,insideCap:e.get_lightbox_config("inner_caption"),capPosition:e.get_lightbox_config("caption_position"),capTitleShow:!(!e.get_config("lightbox_title_caption")||"none"==e.get_config("lightbox_title_caption")||"0"==e.get_config("lightbox_title_caption"))&&e.get_config("lightbox_title_caption"),media:{youtube:{params:{autoplay:0}}},wheel:!e.get_config("mousewheel")||e.get_config("mousewheel"),slideShow:o,thumbs:t,mobile:{clickContent:function(e,i){return"image"===e.type&&"toggleControls"},clickSlide:function(e,i){return"image"===e.type?"toggleControls":"close"},dblclickContent:!1,dblclickSlide:!1},clickContent:e.get_lightbox_config("click_content")?e.get_lightbox_config("click_content"):"toggleControls",clickSlide:e.get_lightbox_config("click_slide")?e.get_lightbox_config("click_slide"):"close",clickOutside:e.get_lightbox_config("click_outside")?e.get_lightbox_config("click_outside"):"toggleControls",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,videoPlayIcon:!0,onInit:function(t,o){i(document).trigger("envirabox_api_on_init",[e,t,o])},beforeLoad:function(t,o){i(document).trigger("envirabox_api_before_load",[e,t,o])},afterLoad:function(t,o){i(document).trigger("envirabox_api_after_load",[e,t,o])},beforeShow:function(t,o){i("#envirabox-buttons-title").length>0&&o.gallery_title&&(document.getElementById("envirabox-buttons-title").innerHTML="<span>"+o.gallery_title+"</span>"),i(document).trigger("envirabox_api_before_show",[e,t,o])},afterShow:function(t,o){if(void 0==a||void 0==n)var a=!1,n=!1;1!=a&&(i(".envirabox-position-overlay").each(function(){i(this).prependTo(o.$content)}),a=!0),void 0!==e.get_config("keyboard")&&0===e.get_config("keyboard")&&i(window).keypress(function(e){[32,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault()}),i(".envirabox-title").css("visibility","visible"),i(".envirabox-caption").css("visibility","visible"),i(".envirabox-navigation").show(),i(".envirabox-navigation-inside").show(),i(document).trigger("envirabox_api_after_show",[e,t,o])},beforeClose:function(t,o){i(document).trigger("envirabox_api_before_close",[e,t,o])},afterClose:function(t,o){i(document).trigger("envirabox_api_after_close",[e,t,o])},onActivate:function(t,o){i(document).trigger("envirabox_api_on_activate",[e,t,o])},onDeactivate:function(t,o){i(document).trigger("envirabox_api_on_deactivate",[e,t,o])}},e.is_mobile()&&1!==e.get_config("mobile_thumbnails")&&(e.lightbox_options.thumbs=!1),i(document).trigger("envirabox_options",e),i("#envira-gallery-wrap-"+e.id+" .envira-gallery-link").on("click",function(t){t.preventDefault(),t.stopImmediatePropagation();var o=i(this),a=[],n=o.data("gallery-images"),l=o.data("gallery-sort-ids"),r=void 0!==l&&"gallery"==e.data.gallery_sort?"id":"image",c=void 0!==l&&"gallery"==e.data.gallery_sort?l:n,g=i.envirabox.getInstance();i.each(c,function(i){if("id"==r)(t=n[this]).opts.caption=t.caption;else{var t=this;this.opts.caption=this.caption}if(void 0!==t.link)if(t.link.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|facebook\.com|videopress\.com|wistia\.com|twitch\.tv|metacafe\.com|instagram\.com|dailymotion\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),RegExp.$3.indexOf("youtu")>-1&&RegExp.$6.indexOf("videoser")>-1)t.video=!0,t.type="iframe",t.src=t.link;else if(RegExp.$3.indexOf("youtu")>-1){var o=/^.*((youtu.be\/|youtube.com\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,l=t.link.match(o),c=function(e){var i,t=[],o=e.split("?")[1];if(void 0!=o){o=o.split("&");for(var a=0;a<o.length;a++)i=o[a].split("="),t.push(i[1]),t[i[0]]=i[1]}return t}(t.link),g="0",s="0";l&&11==l[7].length&&(t.video=!0,t.type="iframe",t.contentProvider="youtube",t.provider="youtube",g=void 0!==c.autoplay?c.autoplay:"0",s=void 0!==e.data.videos_autoplay?e.data.videos_autoplay:g,t.src="https://www.youtube.com/embed/"+l[7]+"?autoplay="+s)}else if(RegExp.$3.indexOf("vimeo")>-1)o=/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,(l=t.link.match(o))&&l[2]&&(t.video=!0,t.type="iframe",t.contentProvider="vimeo",t.provider="vimeo",s=void 0!==e.data.videos_autoplay?e.data.videos_autoplay:"0",t.src="https://player.vimeo.com/video/"+l[2]+"?autoplay="+s);else if(RegExp.$3.indexOf("dailymotion")>-1){if(o=/dailymotion.com\/video\/(.*)\/?(.*)/,(l=t.link.match(o))&&l[1]){if(t.video=!0,t.type="iframe",t.contentProvider="dailymotion",t.provider="dailymotion","1"==(s=void 0!==e.data.videos_autoplay?e.data.videos_autoplay:"0"))var d=l[1].replace("autoplay=0","autoplay="+s);else d=l[1];t.src="//www.dailymotion.com/embed/video/"+d}}else RegExp.$3.indexOf("facebook")>-1?(o=/facebook.com\/facebook\/videos\/(.*)\/?(.*)/,(l=t.link.match(o))&&l[1]&&(t.video=!0,t.type="genericDiv",t.subtype="facebook",t.contentProvider="facebook",t.provider="facebook",t.src="//www.facebook.com/facebook/videos/"+l[1])):RegExp.$3.indexOf("metacafe")>-1?(o=/metacafe.com\/watch\/(\d+)\/(.*)?/,(l=t.link.match(o))&&l[1]&&(t.video=!0,t.type="iframe",t.contentProvider="metacafe",t.provider="metacafe",t.src="//www.metacafe.com/embed/ "+l[1]+"/?ap=1")):RegExp.$3.indexOf("twitc")>-1?(o=/twitch.tv\/videos\/(.*)\/?(.*)/,l=t.link.match(o),t.link.indexOf("video=")>-1&&(t.video=!0,t.type="iframe","1"==(s=void 0!==e.data.videos_autoplay?e.data.videos_autoplay:"0")&&t.link.indexOf("autoplay=false")>-1?d=t.link.replace("autoplay=false","autoplay=true"):"1"==s&&(d=t.link+"&autoplay=true"),t.src=d,t.contentProvider="twitch",t.provider="twitch"),t.src=t.link):RegExp.$3.indexOf("videopress")>-1?(o=/videopress.com\/v\/(.*)\/?(.*)/,(l=t.link.match(o))&&l[1]&&(t.video=!0,t.type="iframe",d="1"==(s=void 0!==e.data.videos_autoplay?e.data.videos_autoplay:"0")?t.link.replace("autoplay=0","autoplay="+s):t.link,t.src=d,t.contentProvider="videopress",t.provider="videopress")):RegExp.$3.indexOf("wistia")>-1?(o=/wistia.com\/medias\/(.*)\/?(.*)/,(l=t.link.match(o))&&l[1]&&(t.video=!0,t.type="iframe","1"==(s=void 0!==e.data.videos_autoplay?e.data.videos_autoplay:"0")&&l[1].indexOf("autoplay=false")>-1?d=l[1].replace("autoPlay=false","autoPlay=true"):"1"==s?d=l[1]+"&autoPlay=true":(d=l[1],t.provider="wistia"),t.src="//fast.wistia.net/embed/iframe/"+d,t.contentProvider="wistia",t.provider="wistia")):RegExp.$3.indexOf("instagram")>-1?(o=/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,(l=t.link.match(o))&&l[1]&&(t.video=!0,t.type="iframe",t.src="//"+l[1]+"/p/"+l[2]+"/media/?size=l"),t.src=t.link):t.link.indexOf("mp4")>-1&&(t.video=!0,t.type="video",t.src=t.link,t.opts.videoFormat="video/mp4");a.push(t)}),g||i.envirabox.open(a,e.lightbox_options)})}},{key:"get_config",value:function(e){return this.data[e]}},{key:"get_lightbox_config",value:function(e){return this.envirabox_config[e]}},{key:"get_image",value:function(e){return this.images[e]}},{key:"is_mobile",value:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:"log",value:function(e){void 0!=envira_gallery.debug&&envira_gallery.debug&&void 0!=e&&console.log(e)}}]),e}();e.exports=a}).call(this,t(0))}]);